<!DOCTYPE html>
<html>
<head>
  <title>Process Checklist</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    h2 { margin-top: 30px; }
    label { display: block; margin: 5px 0; }
    button { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Process Checklist</h1>
  <div id="content">Loading...</div>

  <script>
    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vS-n5cBUDYXJ1WySAb2LezIXXfxODrlmXyS-fDAkdVfANGztRFUhfRcMWj56JB96XRCVlFFGCLt876y/pub?gid=1475439125&single=true&output=csv";

    fetch(csvUrl)
      .then(res => res.text())
      .then(csv => {
        const rows = csv.trim().split('\n').map(row => row.split(','));
        const headers = rows[0];
        const content = rows.slice(1); // skip header

        let html = `<form id="checklist">`;
        headers.forEach((header, colIndex) => {
          html += `<h3>${header}</h3>`;
          content.forEach(row => {
            const item = row[colIndex];
            if (item) {
              const id = `col${colIndex}_${item.replace(/\s+/g, '_')}`;
              html += `<label><input type="checkbox" id="${id}"> ${item}</label>`;
            }
          });
        });
        html += `<button type="submit">Submit</button></form>`;
        document.getElementById("content").innerHTML = html;
